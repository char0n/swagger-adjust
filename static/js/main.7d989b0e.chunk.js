(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[0],{151:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),c=n(12),i=n.n(c),a=n(27),s=n(70),u=n(29),l=n(99),d=n(104),b=n(222),j=n(112),f=n(54),p=n(191),O=n(90),h=n(196),m=n(197),g=n(219),y=n(198),v=n(221),S=n(220),w=n(53),A=n(108),L=n(105),x=n(195),P=n(51),I=n(216),T=n(115),k=n(218),C=n(193),E=n(21),B=n(192),D=n(106);function R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function F(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var W=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Object(I.a)(t))return{};if(!Object(I.a)(e))return t;Object(I.a)(e.wrapComponents)&&(Object(p.a)((function(n,r){var o=Object(w.a)(["components",r],t);Object(L.a)(o)?(t.components[r]=o.concat([n]),delete e.wrapComponents[r]):Object(P.a)(o)&&(t.components[r]=[o,n],delete e.wrapComponents[r])}),e.wrapComponents),Object(S.a)(e.wrapComponents)&&delete e.wrapComponents);var n=t.statePlugins;return Object(I.a)(n)&&Object(E.a)(n).forEach((function(t){var r=n[t];if(Object(I.a)(r)){var o=r.wrapActions,c=r.wrapSelectors;Object(I.a)(o)&&Object(E.a)(o).forEach((function(n){var r=o[n];Object(D.a)(r)&&(r=[r],o[n]=r),Object(B.a)(["statePlugins",t,"wrapActions",n],e)&&(e.statePlugins[t].wrapActions[n]=o[n].concat(e.statePlugins[t].wrapActions[n]))})),Object(I.a)(c)&&Object(E.a)(c).forEach((function(n){var r=c[n];Object(D.a)(r)&&(r=[r],c[n]=r),Object(B.a)(["statePlugins",t,"wrapSelectors",n],e)&&(e.statePlugins[t].wrapSelectors[n]=c[n].concat(e.statePlugins[t].wrapSelectors[n]))}))}})),Object(g.a)(t,e)},H=function t(e,n){return Object(I.a)(e)&&!Object(L.a)(e)?function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R(Object(n),!0).forEach((function(e){F(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e):Object(P.a)(e)?t(e(n),n):Object(L.a)(e)?e.map((function(e){return t(e,n)})).reduce(W,{}):{}};function N(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.logErrors,r=void 0===n||n;return Object(C.a)(t)?t:function(){try{for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.call.apply(t,[this].concat(n))}catch(c){return r&&console.error(c),null}}}function J(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.hasLoaded,c=o;return Object(I.a)(t)&&!Object(L.a)(t)&&Object(P.a)(t.afterLoad)&&(c=!0,N(t.afterLoad).call(this,e)),Object(P.a)(t)?J.call(this,t(e),e,{hasLoaded:c}):Object(L.a)(t)?t.map((function(t){return J.call(n,t,e,{hasLoaded:c})})):c}var M=n(153),U=n(194),_=n(60),q=o.a.createContext(null),z=function(){var t=Object(r.useContext)(q);return Object(P.a)(t)?t():null},K=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var c=z(),i=c["".concat(t,"Selectors")][e],a=function(){return i.apply(void 0,r)};return Object(_.c)(a,M.a)},$=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var c=z(),i=c["".concat(t,"Selectors")][e],a=function(){return i.apply(void 0,r)};return Object(_.c)(a,_.b)},G=function(t,e){return z().getActions()["".concat(t,"Actions")][e]},Q=function(t,e){return z()["".concat(t,"Actions")][e]},V=Object(U.a)(v.a,(function(t){return z().getComponents(t)}));function X(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?X(Object(n),!0).forEach((function(e){rt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Z(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,c=[],i=!0,a=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(c.push(r.value),!e||c.length!==e);i=!0);}catch(s){a=!0,o=s}finally{try{i||null==n.return||n.return()}finally{if(a)throw o}}return c}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return tt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ot,ct=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};et(this,t),rt(this,"initialState",{}),rt(this,"initialPluginState",{}),rt(this,"pluginStateAccessor",d.a),rt(this,"plugins",[]),rt(this,"system",{configs:{},fn:{},components:{},hooks:{useSystemComponent:V,useSystemActionCreator:G,useSystemActionCreatorBound:Q,useSystem:z,useSystemSelector:K,useSystemSelectorShallowEqual:$},rootInjects:{},statePlugins:{}}),rt(this,"boundSystem",null),rt(this,"getSystem",(function(){return e.boundSystem})),rt(this,"getStore",(function(){return e.store})),rt(this,"getConfigs",(function(){return e.system.configs})),rt(this,"getFn",(function(){return e.system.fn})),rt(this,"getHooks",(function(){return e.system.hooks})),rt(this,"getComponents",(function(t){var n=e.system.components[t];return Object(L.a)(n)?n.reduce((function(t,n){return n(t,e.getSystem())})):Object(x.a)(t)?e.system.components[t]:e.system.components})),rt(this,"getSelectors",(function(){return e.getType("selectors")})),rt(this,"getActions",(function(){var t=e.getType("actions"),n=Object(b.a)(Object(j.a)((function(t){var e=Z(t,2)[1];return Object(P.a)(e)})),Object(f.a)((function(t){var e=Z(t,2);return rt({},e[0],e[1])})));return Object(p.a)(Object(O.a)(h.a,Object(m.a)(n,g.a,{})),t)})),this.initialState=Object(y.a)(this.initialState,["initialState"],n),this.initialPluginState=Object(y.a)(this.initialPluginState,["initialPluginState"],n),this.pluginStateAccessor=Object(y.a)(this.pluginStateAccessor,["pluginStateAccessor"],n),this.plugins=Object(y.a)([],["plugins"],n),this.system.configs=Object(y.a)({},["configs"],n);var r=Object(y.a)((function(t){return function(e){return e({thunk:{extraArgument:{getSystem:t.getSystem}}})}}),["middleware"],n);this.store=Object(a.a)({preloadedState:this.initialState,reducer:v.a,middleware:Object(P.a)(r)?r(this):r}),this.buildSystem(!1),this.register(this.plugins)}var e,n,r;return e=t,(n=[{key:"register",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=H(t,this.getSystem());this.system=W(this.system,n),e&&this.buildSystem();var r=J.call(this.system,t,this.getSystem());r&&this.buildSystem()}},{key:"buildSystem",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.getStore(),n=e.getState,r=e.dispatch;this.boundSystem=Y(Y(Y(Y(Y({},this.getRootInjects()),this.getWrappedAndBoundActions(r)),this.getWrappedAndBoundSelectors(n,this.getSystem)),this.getStateThunks(n)),{},{hooks:this.getHooks(),fn:this.getFn(),configs:this.getConfigs()}),t&&this.rebuildRootReducer()}},{key:"getRootInjects",value:function(){return Y({getSystem:this.getSystem,getStore:this.getStore,getComponents:this.getComponents,getHooks:this.getHooks,getState:this.getStore().getState,getConfigs:this.getConfigs,getActions:this.getActions,createAsyncThunk:a.c,createSelector:s.a,createAction:a.b,React:o.a},this.system.rootInjects)}},{key:"rebuildRootReducer",value:function(){var t=this,e=Object(p.a)((function(e){var n=e.initialState,r=void 0===n?t.initialPluginState:n,o=e.reducers,c=void 0===o?{}:o;return Object(a.d)(r,c)}),this.system.statePlugins),n=Object(S.a)(e)?Object(a.d)(this.initialState,v.a):Object(u.c)(e);this.store.replaceReducer(n)}},{key:"getType",value:function(t){var e="".concat(t[0].toUpperCase()).concat(t.slice(1)),n=Object(b.a)(Object(j.a)((function(e){var n=Z(e,2)[1];return Object(I.a)(n[t])})),Object(f.a)((function(n){var r=Z(n,2),o=r[0],c=r[1];return rt({},"".concat(o).concat(e),c[t])})));return Object(m.a)(n,g.a,{},Object(h.a)(this.system.statePlugins))}},{key:"getWrappedAndBoundActions",value:function(t){var e=this,n=this.getBoundActions(t);return Object(p.a)((function(t,n){var r=e.system.statePlugins[n.slice(0,-7)].wrapActions;return Object(I.a)(r)?Object(p.a)((function(t,n){var o=r[n];return Object(T.a)(o)?t:(o=Object(k.a)(o)).reduce((function(t,n){var r=function(){return n(t,e.getSystem()).apply(void 0,arguments)};if(Object(C.a)(r))throw new TypeError("wrapActions needs to return a function that returns a new function (ie the wrapped action)");return N(r)}),t||Function.prototype)}),t):t}),n)}},{key:"getWrappedAndBoundSelectors",value:function(t,e){var n=this,r=this.getBoundSelectors(t,e);return Object(p.a)((function(e,r){var o=[r.slice(0,-9)],c=n.system.statePlugins[o].wrapSelectors;return Object(I.a)(c)?Object(p.a)((function(e,r){var i=c[r];return Object(T.a)(i)?e:(i=Object(k.a)(i)).reduce((function(e,r){var c=function(){for(var c=arguments.length,i=new Array(c),a=0;a<c;a++)i[a]=arguments[a];return r(e,n.getSystem()).apply(void 0,[Object(w.a)(o,t())].concat(i))};if(Object(C.a)(c))throw new TypeError("wrapSelector needs to return a function that returns a new function (ie the wrapped action)");return c}),e||Function.prototype)}),e):e}),r)}},{key:"getStateThunks",value:function(t){var e=this;return Object(p.a)((function(n,r){return function(){return e.pluginStateAccessor(r,t())}}),this.system.statePlugins)}},{key:"getBoundSelectors",value:function(t,e){var n=this;return Object(p.a)((function(r,o){var c=[o.slice(0,-9)],i=function(){return n.pluginStateAccessor(c,t())};return Object(p.a)((function(t){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var c=N(t).apply(null,[i()].concat(r));return Object(P.a)(c)&&(c=N(c)(e())),Object(P.a)(c)&&(c=c(i())),c}}),r)}),this.getSelectors())}},{key:"getBoundActions",value:function(t){var e=Object(A.a)(t,this.getStore().dispatch),n=this.getActions(),r=function t(e){return Object(C.a)(e)?Object(p.a)((function(e){return t(e)}),e):function(){var t=null;try{t=e.apply(void 0,arguments)}catch(n){t={type:"NEW_THROWN_ERR",error:!0,payload:Object(l.a)(n)}}return t}};return Object(p.a)((function(t){return Object(u.b)(r(t),e)}),n)}}])&&nt(e.prototype,n),r&&nt(e,r),t}(),it=n(201),at=n(156),st=n(199),ut=n(200),lt=n(7),dt=Object(st.a)(),bt=function(){var t=V("TodoListAppBar"),e=V("TodoListInput"),n=V("TodoList");return Object(lt.jsxs)(ut.a,{theme:dt,children:[Object(lt.jsx)(it.a,{}),Object(lt.jsx)(t,{}),Object(lt.jsxs)(at.a,{component:"main",children:[Object(lt.jsx)(e,{}),Object(lt.jsx)(n,{})]})]})},jt=n(204),ft=n(205),pt=n(86),Ot=function(){return Object(lt.jsx)(jt.a,{position:"sticky",children:Object(lt.jsx)(ft.a,{children:Object(lt.jsx)(pt.a,{variant:"h6",children:"TodoList"})})})},ht=n(83),mt=n(215),gt=n(206),yt=Object(gt.a)((function(){return{input:{borderRadius:0}}})),vt=function(){var t=Object(r.useState)(""),e=Object(ht.a)(t,2),n=e[0],o=e[1],c=yt(),i=Q("todoList","addItem");return Object(lt.jsx)(mt.a,{id:"todolist-add",fullWidth:!0,variant:"outlined",placeholder:"Type here and press enter to create new item",value:n,onChange:function(t){o(t.target.value)},InputProps:{classes:{root:c.input}},onKeyPress:function(t){"Enter"===t.key&&""!==t.target.value.trim()&&(t.preventDefault(),i({title:t.target.value}),o(""))}})},St=n(207),wt=n(208),At=Object(gt.a)((function(){return{root:{paddingTop:0,paddingBottom:0}}})),Lt=function(){var t=At(),e=K("todoList","selectTodoListItems"),n=V("TodoListItem");return Object(lt.jsx)(St.a,{className:t.root,children:e.map((function(t){return Object(lt.jsxs)(o.a.Fragment,{children:[Object(lt.jsx)(n,{item:t}),Object(lt.jsx)(wt.a,{})]},t.id)}))})},xt=n(209),Pt=n(210),It=function(t){var e=t.item;return Object(lt.jsx)(xt.a,{children:Object(lt.jsx)(Pt.a,{children:e.title})})},Tt=Object(a.b)("todoList/addItem"),kt=function(t){return t},Ct=Object(s.a)(kt,(function(t){return t.items})),Et=n(31),Bt=n(33),Dt={items:[]},Rt=Object(Et.a)({},Tt,(function(t,e){var n=Object(Bt.a)({id:Object(a.e)()},e.payload);t.items.push(n)})),Ft=function(){return{components:{TodoListLayout:bt,TodoListAppBar:Ot,TodoListInput:vt,TodoList:Lt,TodoListItem:It},fn:{todoList:{}},statePlugins:{todoList:{initialState:Dt,actions:{addItem:Tt},selectors:{selectTodoList:kt,selectTodoListItems:Ct},reducers:Rt}}}},Wt=n(223),Ht=Object(a.b)("todoList/completeItem"),Nt=Object(a.b)("todoList/uncompleteItem"),Jt=Object(a.b)("todoList/deleteItem"),Mt=Object(a.b)("todoList/completeAll"),Ut=Object(a.b)("todoList/deleteAll"),_t=function(t){return new Date(t).toLocaleTimeString()},qt=(ot={"todoList/addItem":function(t,e){var n=Object(Bt.a)({id:Object(a.e)()},e.payload);t.items.unshift(n)}},Object(Et.a)(ot,Ht,(function(t,e){var n=t.items.findIndex((function(t){return t.id===e.payload.id}));t.items[n].completed=!0})),Object(Et.a)(ot,Nt,(function(t,e){var n=t.items.findIndex((function(t){return t.id===e.payload.id}));t.items[n].completed=!1})),Object(Et.a)(ot,Jt,(function(t,e){var n=t.items.findIndex((function(t){return t.id===e.payload.id}));t.items.splice(n,1)})),Object(Et.a)(ot,Mt,(function(t){t.items.map((function(t){return t.completed=!0,t}))})),Object(Et.a)(ot,Ut,(function(t){t.items=[]})),ot),zt=function(t){return function(e){var n=V("TodoListBatchOperations");return Object(lt.jsxs)("div",{children:[Object(lt.jsx)(t,Object(Bt.a)({},e)),Object(lt.jsx)(n,{})]})}},Kt=n(211),$t=n(217),Gt=n(213),Qt=n(212),Vt=n(110),Xt=n.n(Vt),Yt=function(t){var e=t.item,n=function(t){var e=z();return Object(w.a)(Object(k.a)(t),e.fn)}(["todoList","formatTimestamp"]),r=Q("todoList","completeItem"),o=Q("todoList","uncompleteItem"),c=Q("todoList","deleteItem");return Object(lt.jsxs)(xt.a,{selected:e.completed,children:[Object(lt.jsx)(Kt.a,{children:Object(lt.jsx)($t.a,{edge:"start",checked:e.completed,onChange:function(t){t.target.checked?r({id:e.id}):o({id:e.id})},tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":"todoListItem-".concat(e.id)}})}),Object(lt.jsx)(Pt.a,{id:"todoListItem-".concat(e.id),primary:e.title,secondary:n(e.createdAt)}),Object(lt.jsx)(Gt.a,{children:Object(lt.jsx)(Qt.a,{edge:"end","aria-label":"delete",onClick:function(){c({id:e.id})},children:Object(lt.jsx)(Xt.a,{})})})]})},Zt=o.a.memo(Yt),te=n(214),ee=n(157),ne=Object(gt.a)((function(t){return{root:{display:"flex",flexDirection:"column",alignItems:"center","& > *":{margin:t.spacing(1)}}}})),re=function(){var t=ne(),e=Q("todoList","completeAll"),n=Q("todoList","deleteAll");return Object(lt.jsx)("div",{className:t.root,children:Object(lt.jsxs)(te.a,{variant:"contained",color:"primary","aria-label":"batch operations",size:"small",children:[Object(lt.jsx)(ee.a,{onClick:function(){e()},children:"Complete all"}),Object(lt.jsx)(ee.a,{color:"secondary",onClick:function(){n()},children:"Delete all"})]})})},oe=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,224)).then((function(e){var n=e.getCLS,r=e.getFID,o=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),r(t),o(t),c(t),i(t)}))},ce=new ct({plugins:[Ft,function(t){var e=Object(Wt.a)(["formatTimestamp"],_t,t.fn.todoList);return{components:{TodoListItem:Zt,TodoListBatchOperations:re},wrapComponents:{TodoList:zt},fn:{todoList:e},statePlugins:{todoList:{actions:{completeItem:Ht,uncompleteItem:Nt,deleteItem:Jt,completeAll:Mt,deleteAll:Ut},wrapActions:{addItem:function(t){return function(e){t(Object(Bt.a)(Object(Bt.a)({},e),{},{completed:!1,createdAt:Date.now()}))}}},reducers:qt}}}}]}),ie=ce.getStore(),ae=function(){var t=V("TodoListLayout");return Object(lt.jsx)(t,{})};i.a.render(Object(lt.jsx)(o.a.StrictMode,{children:Object(lt.jsx)(_.a,{store:ie,children:Object(lt.jsx)(q.Provider,{value:ce.getSystem,children:Object(lt.jsx)(ae,{})})})}),document.getElementById("root")),oe()}},[[151,1,2]]]);
//# sourceMappingURL=main.7d989b0e.chunk.js.map