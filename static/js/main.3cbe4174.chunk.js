(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[0],{64:function(t,e,n){},65:function(t,e,n){},93:function(t,e,n){"use strict";n.r(e);var r=n(27),c=n(37),o=n(38),a=n.n(o),i=n(49),s=n(1),u=n.n(s),l=n(25),p=n.n(l),f=(n(64),n.p+"static/media/logo.6ce24c58.svg"),b=(n(65),n(24)),g=n(26),h=n(10),j=n(50),O=n.n(j),y=n(51),d=n(108),m=n(57),v=n(19),S=n(95),A=n(41),w=n(99),P=n(100),k=n(104),C=n(101),x=n(107),T=n(105),E=n(17),R=n(56),B=n(52),I=n(98),D=n(16),L=n(102),F=n(58),N=n(103),W=n(96),H=n(9),_=n(106),J=n(53);function M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function U(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Object(L.a)(t))return{};if(!Object(L.a)(e))return t;Object(L.a)(e.wrapComponents)&&(Object(S.a)((function(n,r){var c=Object(E.a)(["components","key"],t);Object(B.a)(c())?(t.components[r]=c.concat([n]),delete e.wrapComponents[r]):Object(D.a)(c)&&(t.components[r]=[c,n],delete e.wrapComponents[r])}),e.wrapComponents),Object(T.a)(e.wrapComponents)&&delete e.wrapComponents);var n=t.statePlugins;return Object(L.a)(n)&&Object(H.a)(n).forEach((function(t){var r=n[t];if(Object(L.a)(r)&&Object(L.a)(r.wrapActions)){var c=r.wrapActions;Object(H.a)(c).forEach((function(n){var r=c[n];Object(J.a)(r)&&(r=[r],c[n]=r),Object(_.a)(["statePlugins",t,"wrapActions",n],e)&&(e.statePlugins[t].wrapActions[n]=c[n].concat(e.statePlugins[t].wrapActions[n]))}))}})),Object(k.a)(t,e)},$=function t(e,n){return Object(L.a)(e)&&!Object(B.a)(e)?function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(Object(n),!0).forEach((function(e){U(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e):Object(D.a)(e)?t(e(n),n):Object(B.a)(e)?e.map((function(e){return t(e,n)})).reduce(q,{}):{}};function z(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.logErrors,r=void 0===n||n;return Object(W.a)(t)?t:function(){try{for(var e=arguments.length,n=new Array(e),c=0;c<e;c++)n[c]=arguments[c];return t.call.apply(t,[this].concat(n))}catch(o){return r&&console.error(o),null}}}function G(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=r.hasLoaded,o=c;return Object(L.a)(t)&&!Object(B.a)(t)&&Object(D.a)(t.afterLoad)&&(o=!0,z(t.afterLoad).call(this,e)),Object(D.a)(t)?G.call(this,t(e),e,{hasLoaded:o}):Object(B.a)(t)?t.map((function(t){return G.call(n,t,e,{hasLoaded:o})})):o}var K=n(94),Q=n(97),V=n(23),X=u.a.createContext(null),Y=function(){var t=Object(s.useContext)(X);return Object(D.a)(t)?t():null},Z=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),c=2;c<n;c++)r[c-2]=arguments[c];var o=Y(),a=o["".concat(t,"Selectors")][e],i=function(){return a.apply(void 0,r)};return Object(V.c)(i,K.a)},tt=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),c=2;c<n;c++)r[c-2]=arguments[c];var o=Y(),a=o["".concat(t,"Selectors")][e],i=function(){return a.apply(void 0,r)};return Object(V.c)(i,V.b)},et=function(t,e){return Y().getActions()["".concat(t,"Actions")][e]},nt=function(t,e){return Y()["".concat(t,"Actions")][e]},rt=Object(Q.a)(x.a,(function(t){return Y().getComponents(t)}));function ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(n),!0).forEach((function(e){lt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function at(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,c=!1,o=void 0;try{for(var a,i=t[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(s){c=!0,o=s}finally{try{r||null==i.return||i.return()}finally{if(c)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return it(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return it(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function st(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pt=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};st(this,t),lt(this,"initialState",{}),lt(this,"initialPluginState",{}),lt(this,"pluginStateAccessor",y.a),lt(this,"plugins",[]),lt(this,"system",{configs:{},fn:{},components:{},hooks:{useSystemComponent:rt,useSystemActionCreator:et,useSystemActionCreatorBound:nt,useSystem:Y,useSystemSelector:Z,useSystemSelectorShallowEqual:tt},rootInjects:{},statePlugins:{}}),lt(this,"boundSystem",null),lt(this,"getSystem",(function(){return e.boundSystem})),lt(this,"getStore",(function(){return e.store})),lt(this,"getConfigs",(function(){return e.system.configs})),lt(this,"getFn",(function(){return e.system.fn})),lt(this,"getHooks",(function(){return e.system.hooks})),lt(this,"getComponents",(function(t){var n=e.system.components[t];return Object(B.a)(n)?n.reduce((function(t,n){return n(t,e.getSystem())})):Object(I.a)(t)?e.system.components[t]:e.system.components})),lt(this,"getSelectors",(function(){return e.getType("selectors")})),lt(this,"getActions",(function(){var t=e.getType("actions"),n=Object(d.a)(Object(m.a)((function(t){var e=at(t,2)[1];return Object(D.a)(e)})),Object(v.a)((function(t){var e=at(t,2);return lt({},e[0],e[1])})));return Object(S.a)(Object(A.a)(w.a,Object(P.a)(n,k.a,{})),t)})),this.initialState=Object(C.a)(this.initialState,["initialState"],n),this.initialPluginState=Object(C.a)(this.initialPluginState,["initialPluginState"],n),this.pluginStateAccessor=Object(C.a)(this.pluginStateAccessor,["pluginStateAccessor"],n),this.plugins=Object(C.a)([],["plugins"],n),this.system.configs=Object(C.a)({},["configs"],n);var r=Object(C.a)((function(t){return function(e){return e({thunk:{extraArgument:{getSystem:t.getSystem}}})}}),["middleware"],n);this.store=Object(b.a)({preloadedState:this.initialState,reducer:x.a,middleware:Object(D.a)(r)?r(this):r}),this.buildSystem(!1),this.register(this.plugins)}var e,n,r;return e=t,(n=[{key:"register",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=$(t,this.getSystem());this.system=q(this.system,n),e&&this.buildSystem();var r=G.call(this.system,t,this.getSystem());r&&this.buildSystem()}},{key:"buildSystem",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.getStore(),n=e.getState,r=e.dispatch;this.boundSystem=ot(ot(ot(ot(ot({},this.getRootInjects()),this.getWrappedAndBoundActions(r)),this.getWrappedAndBoundSelectors(n,this.getSystem)),this.getStateThunks(n)),{},{hooks:this.getHooks(),fn:this.getFn(),configs:this.getConfigs()}),t&&this.rebuildRootReducer()}},{key:"getRootInjects",value:function(){return ot({getSystem:this.getSystem,getStore:this.getStore,getComponents:this.getComponents,getHooks:this.getHooks,getState:this.getStore().getState,getConfigs:this.getConfigs,getActions:this.getActions,createAsyncThunk:b.c,createSelector:g.a,createAction:b.b,React:u.a},this.system.rootInjects)}},{key:"rebuildRootReducer",value:function(){var t=this,e=Object(S.a)((function(e){var n=e.initialState,r=void 0===n?t.initialPluginState:n,c=e.reducers,o=void 0===c?{}:c;return Object(b.d)(r,o)}),this.system.statePlugins),n=Object(T.a)(e)?Object(b.d)(this.initialState,x.a):Object(h.c)(e);this.store.replaceReducer(n)}},{key:"getType",value:function(t){var e="".concat(t[0].toUpperCase()).concat(t.slice(1)),n=Object(d.a)(Object(m.a)((function(e){var n=at(e,2)[1];return Object(L.a)(n[t])})),Object(v.a)((function(n){var r=at(n,2),c=r[0],o=r[1];return lt({},"".concat(c).concat(e),o[t])})));return Object(P.a)(n,k.a,{},Object(w.a)(this.system.statePlugins))}},{key:"getWrappedAndBoundActions",value:function(t){var e=this,n=this.getBoundActions(t);return Object(S.a)((function(t,n){var r=e.system.statePlugins[n.slice(0,-7)].wrapActions;return Object(L.a)(r)?Object(S.a)((function(t,n){var c=r[n];return Object(F.a)(c)?t:(c=Object(N.a)(c)).reduce((function(t,n){var r=function(){return n(t,e.getSystem()).apply(void 0,arguments)};if(Object(W.a)(r))throw new TypeError("wrapActions needs to return a function that returns a new function (ie the wrapped action)");return z(r)}),t||Function.prototype)}),t):t}),n)}},{key:"getWrappedAndBoundSelectors",value:function(t,e){var n=this,r=this.getBoundSelectors(t,e);return Object(S.a)((function(e,r){var c=[r.slice(0,-9)],o=n.system.statePlugins[c].wrapSelectors;return Object(L.a)(o)?Object(S.a)((function(e,r){var a=o[r];return Object(F.a)(a)?e:(a=Object(N.a)(a)).reduce((function(e,r){var o=function(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return r(e,n.getSystem()).apply(void 0,[Object(E.a)(c,t())].concat(a))};if(Object(W.a)(o))throw new TypeError("wrapSelector needs to return a function that returns a new function (ie the wrapped action)");return o}),e||Function.prototype)}),e):e}),r)}},{key:"getStateThunks",value:function(t){var e=this;return Object(S.a)((function(n,r){return function(){return e.pluginStateAccessor(r,t())}}),this.system.statePlugins)}},{key:"getBoundSelectors",value:function(t,e){var n=this;return Object(S.a)((function(r,c){var o=[c.slice(0,-9)],a=function(){return n.pluginStateAccessor(o,t())};return Object(S.a)((function(t){return function(){for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];var o=z(t).apply(null,[a()].concat(r));return Object(D.a)(o)&&(o=z(o)(e())),Object(D.a)(o)&&(o=o(a())),o}}),r)}),this.getSelectors())}},{key:"getBoundActions",value:function(t){var e=Object(R.a)(t,this.getStore().dispatch),n=this.getActions(),r=function t(e){return Object(W.a)(e)?Object(S.a)((function(e){return t(e)}),e):function(){var t=null;try{t=e.apply(void 0,arguments)}catch(n){t={type:"NEW_THROWN_ERR",error:!0,payload:O()(n)}}return t}};return Object(S.a)((function(t){return Object(h.b)(r(t),e)}),n)}}])&&ut(e.prototype,n),r&&ut(e,r),t}(),ft=n(5),bt=function(){var t=Z("example","selectColor",1,2),e=rt("TestComponent");return Object(ft.jsx)("div",{className:"App",children:Object(ft.jsxs)("header",{className:"App-header",children:[Object(ft.jsx)("img",{src:f,className:"App-logo",alt:"logo"}),Object(ft.jsxs)("p",{children:["Edit ",Object(ft.jsx)("code",{children:"src/App.js"})," and save to reload."]}),Object(ft.jsxs)("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer",children:["Learn React; color-",t,Object(ft.jsx)(e,{})]})]})})},gt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,109)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,o=e.getLCP,a=e.getTTFB;n(t),r(t),c(t),o(t),a(t)}))},ht=new pt({plugins:[function(t){var e=t.createAction("example/updateAction");return{components:{TestComponent:function(){return Object(ft.jsxs)("div",{children:[Object(ft.jsx)("h2",{children:"System API:"}),Object(ft.jsx)("div",{children:"System"})]})}},statePlugins:{plugin1:{initialState:{prop1:"val1"},selectors:{selectProp1:function(t){return t.prop1}}},example:{initialState:{color:"white"},actions:{updateAction:e,updateActionAsync:t.createAsyncThunk("example/asyncThunkStatus",function(){var t=Object(i.a)(a.a.mark((function t(e,n){var r,c,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.extra.getSystem(),c=r.getActions().exampleActions.updateAction,t.next=4,e;case 4:return o=t.sent,n.dispatch(c(e)),t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())},selectors:{selectColor:function(t,e){return"".concat(t.color,"-").concat(e)}},reducers:Object(r.a)({},e,(function(t,e){return Object(c.a)(Object(c.a)({},t),{},{color:e.payload})}))}}}},function(t){return{afterLoad:function(t){var e=t.plugin1Selectors.selectProp1,n=t.plugin2Selectors.selectProp2;this.statePlugins.plugin2.selectors.selectAggregate=t.createSelector((function(){return e()}),(function(){return n()}),(function(t,e){return"".concat(t).concat(e)}))},statePlugins:{plugin2:{initialState:{prop2:"val2"},actions:{doSomething:t.createAction("plugin2/doSomething")},selectors:{selectProp2:function(t){return t.prop2}}},example:{wrapSelectors:{selectColor:function(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),c=1;c<n;c++)r[c-1]=arguments[c];return t.apply(void 0,r)}}}}}}}]});setTimeout((function(){ht.getSystem().exampleActions.updateAction("test")}),2e3);var jt=ht.getStore();p.a.render(Object(ft.jsx)(u.a.StrictMode,{children:Object(ft.jsx)(X.Provider,{value:ht.getSystem,children:Object(ft.jsx)(V.a,{store:jt,children:Object(ft.jsx)(bt,{})})})}),document.getElementById("root")),gt()}},[[93,1,2]]]);
//# sourceMappingURL=main.3cbe4174.chunk.js.map